<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>转-javascript正则表达式 | jser | 时间很快，总要记录点什么.</title>
  <meta name="author" content="skdream">
  
  <meta name="description" content="正则表达式就是一个用来描述字符模式的对象。它被用来在文本中执行模式匹配(pattern-matching)以及”查找-替换”(search-and-replace)的任务。javascript中正则的风格类似Perl中正则的风格。">
  
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="转-javascript正则表达式"/>
  <meta property="og:site_name" content="jser"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="jser" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div id="page" class="site">
  <div id="primary" class="content-area">

    <header id="header" class="inner"><div class="site-branding">
  <h1 class="site-title">
    <a href="/">jser</a>
  </h1>
  <p class="site-description">时间很快，总要记录点什么.</p>
</div>
<nav id="site-navigation" class="main-navigation" role="navigation">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="[object Object]">Tags</a></li>
    
  </ul>
</nav></header>

    <main id="main" class="site-main posts-loop" role="main">
      <article class="post article">

  
  
    <h3 class="article-title"><span>转-javascript正则表达式</span></h3>
  


  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/02/07/js-regexp/" rel="bookmark">
        <time class="entry-date published" datetime="2014-02-07T12:40:15.000Z">
          2014-02-07
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>正则表达式就是一个用来描述字符模式的对象。它被用来在文本中执行模式匹配(pattern-matching)以及”查找-替换”(search-and-replace)的任务。javascript中正则的风格类似Perl中正则的风格。<br><a id="more"></a></p>
<h2 id="创建正则表达式"><a href="#创建正则表达式" class="headerlink" title="创建正则表达式"></a>创建正则表达式</h2><p><code>var reg = new RegExp(pattern,modifiers);</code><br>或<br><code>var reg = /pattern/modifiers;</code><br>modifiers包括</p>
<ul>
<li><p>g : 执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）<br>  如  </p>
  <figure class="highlight plain"><figcaption><span>Is this all there Is '.replace(/Is/g, 'is');//替换某字符串中所有的Is为is</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"> </div></pre></td></tr></table></figure>
</li>
<li><p>i : 执行对大小写不敏感的匹配</p>
</li>
<li>m : 执行多行匹配，具体见<a href="http://javascript.info/tutorial/ahchors-and-multiline-mode" target="_blank" rel="external">这里</a><br>ps 新建一正则时可多个模式，如 <code>/hEllO/ig</code></li>
</ul>
<h2 id="JavaScript正则表达式对象的常用方法"><a href="#JavaScript正则表达式对象的常用方法" class="headerlink" title="JavaScript正则表达式对象的常用方法"></a>JavaScript正则表达式对象的常用方法</h2><ul>
<li><p>.test()。该方法对一个字符串进行匹配。并根据匹配结果返回true或false。例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/e/.test(&apos;The best things in life are free&apos;); //true</div></pre></td></tr></table></figure>
</li>
<li><p>.exec()。该方法将对一个字符串进行匹配。并返回第一个匹配项目。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/e/.exec(&apos;The best things in life are free&apos;); // [&quot;e&quot;]</div></pre></td></tr></table></figure>
</li>
</ul>
<p>在字符串方法中，有<code>match</code>,与<code>exec</code>类似。如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;The best things in life are free&apos;.match(/e/); //[&quot;e&quot;]</div></pre></td></tr></table></figure></p>
<h2 id="正则表达式中的元字符"><a href="#正则表达式中的元字符" class="headerlink" title="正则表达式中的元字符"></a>正则表达式中的元字符</h2><blockquote>
<p>正则表达式中的元字符是用来替代一类具有相同属性的字符的特殊字符，它也可以被称为字符类(character class)。 </p>
</blockquote>
<ul>
<li>.   查找单个字符，除了换行和行结束符。</li>
<li>\w  查找单词字符（字母、数字以及下划线”_”）。</li>
<li>\W  查找非单词字符。</li>
<li>\d  查找数字。</li>
<li>\D  查找非数字字符。</li>
<li>\s  查找空白字符。</li>
<li>\S  查找非空白字符。</li>
<li>\b  匹配单词边界。</li>
<li>\B  匹配非单词边界。</li>
<li>\0  查找 NUL 字符。</li>
<li>\n  查找换行符。</li>
<li>\f  查找换页符。</li>
<li>\r  查找回车符。</li>
<li>\t  查找制表符。</li>
<li>\v  查找垂直制表符。</li>
<li>\xxx    查找以八进制数 xxx 规定的字符。</li>
<li>\xdd    查找以十六进制数 dd 规定的字符。</li>
<li>\uxxxx  查找以十六进制数 xxxx 规定的 Unicode 字符。</li>
</ul>
<h2 id="正则表达式中的括号"><a href="#正则表达式中的括号" class="headerlink" title="正则表达式中的括号"></a>正则表达式中的括号</h2><h3 id="大括号"><a href="#大括号" class="headerlink" title="大括号 ()"></a>大括号 ()</h3><p>进行分组。好比email地址，我们就可以将它分为</p>
<ol>
<li>@前面的部分；</li>
<li>@后面’.’之前的部分；</li>
<li>’.’之后的部分；<br>如果要匹配所有gamil邮箱中@前的用户名中带有jack的替换为joel<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&apos;iamjack007@gmail.com&apos;.replace(/^(\w*)(jack)(\w*)@gmail\.com$/, &apos;$1joel$3@gmail.com&apos;);  //&quot;iamjoel007@gmail.com&quot;  </div><div class="line">```    </div><div class="line">这种类似于模块化的思想，不仅使我们一次可以专注于查找其中的一个小部分，也可以让我们在后面可以轻松的替换其中的某个部分，而不需要纠结于“牵一发而动全身”的痛苦。</div><div class="line"></div><div class="line">### 方括号 []</div><div class="line">用于查找某个范围内的字符</div><div class="line"></div><div class="line">* [abc]   查找方括号之间的任何字符。</div><div class="line">* [^abc]  查找任何不在方括号之间的字符。</div><div class="line">* [0-9]   查找任何从 0 至 9 的数字。</div><div class="line">* [a-z]   查找任何从小写 a 到小写 z 的字符。</div><div class="line">* [A-Z]   查找任何从大写 A 到大写 Z 的字符。</div><div class="line">* [A-z]   查找任何从大写 A 到小写 z 的字符。</div><div class="line">* [adgk]  查找方括号内的任何字符。</div><div class="line">* [^adgk] 查找不在方括号内的任何字符。</div><div class="line"></div><div class="line">## 量词</div><div class="line">匹配多个。如匹配3个数字可用正则`/\d&#123;3&#125;/`。</div><div class="line"></div><div class="line">* n+  匹配任何包含至少一个 n 的字符串。</div><div class="line">* n*  匹配任何包含零个或多个 n 的字符串。</div><div class="line">* n?  匹配任何包含零个或一个 n 的字符串。</div><div class="line">* n&#123;X&#125;    匹配包含 X 个 n 的序列的字符串。</div><div class="line">* n&#123;X,Y&#125;  匹配包含 X 或 Y 个 n 的序列的字符串。</div><div class="line">* n&#123;X,&#125;   匹配包含至少 X 个 n 的序列的字符串。</div><div class="line">* n$  匹配任何结尾为 n 的字符串。</div><div class="line">* ^n  匹配任何开头为 n 的字符串。</div><div class="line">* ?=n     匹配任何其后紧接指定字符串 n 的字符串。</div><div class="line">* ?!n     匹配任何其后没有紧接指定字符串 n 的字符串。</div><div class="line"></div><div class="line">## 习题</div><div class="line">1. 在字符串”1.5 0 123 -7 -0.4”里面匹配带小数点的数，无论是正的还是负的。</div><div class="line">1. 在字符串”1.5 0 123”中匹配数字([1.5,0,123])，无论是整数还是小数。</div><div class="line">1. [更多习题](http://javascript.info/tutorial/practice)</div><div class="line"></div><div class="line">------------</div><div class="line">## 进阶</div><div class="line">## 贪婪和非贪婪模式</div><div class="line">默认正则匹配是贪婪模式的，即前面的正则匹配尽可能多的。如</div></pre></td></tr></table></figure>
</li>
</ol>
<p>/(\d+)(\d+)/.exec(‘12345’);//结果[“12345”, “1234”, “5”]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">开启非贪婪模式,量词后面加`?`</div><div class="line">如</div></pre></td></tr></table></figure></p>
<p>/(\d+?)(\d+)/.exec(‘12345’);//结果[“12345”, “1”, “2345”]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">更详细的的解释，点[这里](http://javascript.info/tutorial/greedy-and-lazy)</div><div class="line"></div><div class="line">## 非捕获性分组 </div><div class="line">在括号内容以`?:`开头。如：</div></pre></td></tr></table></figure></p>
<p>/(?:\d+)\d+/.exec(‘123’);// 结果 [“123”]<br>```</p>
<h2 id="匹配"><a href="#匹配" class="headerlink" title="匹配"></a>匹配</h2><p>Lookaround 是 向前匹配(Lookahead) 和 向后匹配(Lookbehind) 的统称。<br>向前匹配</p>
<blockquote>
<p>包括向前正向匹配（Positive Lookahead）和向前负向匹配（Negative Lookahead），语法是 <code>?=</code> 和 <code>?!</code>。<br>前正向匹配：匹配任何其后紧接指定字符串 n 的字符串。<br>向前负向匹配：匹配任何其后没有紧接指定字符串 n 的字符串。</p>
</blockquote>
<p>类似的还有向后匹配。<br>在javascript目前只能使用 Lookahead，还无法使用 Lookbehind。</p>
<p>Lookaround 参考教程：<a href="http://www.regular-expressions.info/lookaround.html" target="_blank" rel="external">http://www.regular-expressions.info/lookaround.html</a></p>
<h2 id="正则拓展库"><a href="#正则拓展库" class="headerlink" title="正则拓展库"></a><a href="http://xregexp.com/" target="_blank" rel="external">正则拓展库</a></h2><p><a href="http://xregexp.com/" target="_blank" rel="external">xregexp</a>特性</p>
<ol>
<li>支持所有的ES5的正则的语法。</li>
<li>兼容 Explorer 5.5+, Firefox 1.5+, Chrome, Safari 3+, and Opera 11+。在nodejs上也可以使用。</li>
<li>比原生正则可读性高。</li>
<li>比原生正则易用。</li>
</ol>
<h2 id="更多资源"><a href="#更多资源" class="headerlink" title="更多资源"></a>更多资源</h2><ul>
<li><a href="http://javascript.info/tutorial/regular-expressions-javascript" target="_blank" rel="external">正则简明参考</a></li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://www.w3school.com.cn/js/jsref_obj_regexp.asp" target="_blank" rel="external">http://www.w3school.com.cn/js/jsref_obj_regexp.asp</a></li>
<li><a href="http://www.html-js.com/article/A-day-to-learn-JavaScript-JavaScript-regular-expressions-a" target="_blank" rel="external">http://www.html-js.com/article/A-day-to-learn-JavaScript-JavaScript-regular-expressions-a</a></li>
<li><a href="http://javascript.info/tutorial/regular-expressions-javascript" target="_blank" rel="external">http://javascript.info/tutorial/regular-expressions-javascript</a></li>
<li><a href="https://github.com/lifesinger/lifesinger.github.com/issues/162#wechat_redirect" target="_blank" rel="external">https://github.com/lifesinger/lifesinger.github.com/issues/162#wechat_redirect</a></li>
</ul>
<h2 id="习题答案"><a href="#习题答案" class="headerlink" title="习题答案"></a>习题答案</h2><ol>
<li>‘1.5 0 123 -7 -0.4’.match(/(-?\d+.\d+)/g)</li>
<li>‘1.5 0 123’.match(/(\d+.?\d+)|0/g)</li>
</ol>

      
    </div>
    <footer class="article-footer">
        <div class="article-meta pull-left">
          
          
  

  <span class="post-tags">
    <i class="icon-tags"></i>
    <a href="/tags/regexp/">regexp</a>
  </span>


        </div>
        
    </footer>
  </div>
</article>

  
	<div id="comment">
	
	
	<!-- 多说评论框 start -->
	 <div class="ds-thread" data-thread-key="/2014/02/07/js-regexp/" data-title="转-javascript正则表达式" data-url="http://donodejs.com/2014/02/07/js-regexp/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"jser"};
	  (function() {
	    var ds = document.createElement('script');
	    ds.type = 'text/javascript';ds.async = true;
	    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	    ds.charset = 'UTF-8';
	    (document.getElementsByTagName('head')[0] 
	     || document.getElementsByTagName('body')[0]).appendChild(ds);
	  })();
	  </script>
	<!-- 多说公共JS代码 end -->
	
	</div>




    </main>

    <footer id="colophon" class="site-footer" role="contentinfo"><p class="site-info">
  Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
  Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
  </br>
  
  &copy; 2016 skdream
  
</p>
</footer>
    
  </div>
</div>
</body>
</html>